# Week15

## 1 题目分析

题目要求

1. 接受双精度浮点数的输入，并输出其在内存中的二进制表示形式。

2. 输出双精度浮点数“非数”在内存中的二进制表示形式。


## 2 实现思路

1. 定义一个共用体 `U_DoubleLongLong` ，包含一个 `double` 类型和一个 `long long` 类型的成员，便于在同一块内存中存储 `double` 和 `long long` 数据。
   ```cpp
   union U_DoubleLongLong
   {
      double m_double;
      long long m_longLong;

      U_DoubleLongLong(double d) : m_double(d) {}
      U_DoubleLongLong(long long i = 0) : m_longLong(i) {}
      U_DoubleLongLong(U_DoubleLongLong& u) : m_longLong(u.m_longLong) {}
      ~U_DoubleLongLong() {}
   };
   ```

2. 配合以下函数进行二进制的转换、展示与测试
   ```cpp
   extern void gb_printBinary(long long num);

   extern void gb_showDoubleLongLongMemory(const U_DoubleLongLong& u);
   extern void gb_testDoubleLongLong();
   ```

3. 其中将 `long long` 类型的数字转换为二进制输出，思路为使用位运算符（>> 和 &）来逐位提取数字的二进制表示；同时每8位插入一个空格，便于阅读
   ```cpp
   void gb_printBinary(long long num)
   {
      for (int i = 63; i >= 0; i--)
      {
         std::cout << ((num >> i) & 1);
         if(i % 8 == 0)
            std::cout << " ";
      }
   }
   ```

## 3 代码运行方法

 平台：Visual Studio 2022

 x64 release

## 4 测试报告

### 4.1 测试案例设计思路

将测试情况划分为正常情况（正、负、零、边界），与非数、正无穷大、负无穷大，进行测试

### 4.2 测试

#### 正

```
3.14 :
01000000 00001001 00011110 10111000 01010001 11101011 10000101 00011111

1 :
00111111 11110000 00000000 00000000 00000000 00000000 00000000 00000000

10 :
01000000 00100100 00000000 00000000 00000000 00000000 00000000 00000000
```

#### 负

```
-3.14 :
11000000 00001001 00011110 10111000 01010001 11101011 10000101 00011111

-1 :
10111111 11110000 00000000 00000000 00000000 00000000 00000000 00000000

-10 :
11000000 00100100 00000000 00000000 00000000 00000000 00000000 00000000
```

#### 零

```
0 :
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

-0 :
10000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
```

#### 边界

```
1.79769e+308 :
01111111 11101111 11111111 11111111 11111111 11111111 11111111 11111111

-1.79769e+308 :
11111111 11101111 11111111 11111111 11111111 11111111 11111111 11111111
```

#### 非数

```
-nan(ind) :
11111111 11111000 00000000 00000000 00000000 00000000 00000000 00000000
```

#### 正无穷大

```
inf :
01111111 11110000 00000000 00000000 00000000 00000000 00000000 00000000
```

#### 负无穷大

```
-inf :
11111111 11110000 00000000 00000000 00000000 00000000 00000000 00000000
```
